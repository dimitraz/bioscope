#{extends 'main.html' /}

	<nav class="ui secondary pointing menu">
		<div class="left menu">
			<h2><a href="/home/index">Bioscope</a></h2>
		</div>
		<div class="right menu">
			<a class="ui item" href="/editaccount"> My Account </a> <a class="ui item"
				href="/logout"> Log out </a>
		</div>
	</nav>
	
	<section>
		<div class="ui two column responsive center aligned padded grid">
		#{if movie.genresIn.contains("Western") || movie.genresIn.contains("Romance")}
		    <div class="column" style="background: url(/public/images/western.jpg); background-size: cover; opacity: 0.4">
		#{/if}
		#{elseif movie.genresIn.contains("Thriller") || movie.genresIn.contains("Horror") }
		    <div class="column" style="background: url(/public/images/thriller.jpg); background-size: cover; opacity: 0.4">
		#{/elseif}
		#{elseif movie.genresIn.contains("Sci-Fi")}
		    <div class="column" style="background: url(/public/images/scifi.jpg); background-size: cover; opacity: 0.4">
		#{/elseif}
		#{elseif movie.genresIn.contains("Adventure")}
		    <div class="column" style="background: url(/public/images/adventure.jpg); background-size: cover; opacity: 0.4">
		#{/elseif}
		#{elseif movie.genresIn.contains("Action")}
		    <div class="column" style="background: url(/public/images/action.jpg); background-size: cover; opacity: 0.4">
		#{/elseif}
		#{elseif movie.genresIn.contains("Animation")}
		    <div class="column" style="background: url(/public/images/animation2.jpg); background-size: cover; opacity: 0.4">
		#{/elseif}
		#{elseif movie.genresIn.contains("Crime")}
		    <div class="column" style="background: url(/public/images/crime.jpg); background-size: cover; opacity: 0.4">
		#{/elseif}
		#{else}
			<div class="column" style="background: url(); background-size: cover; opacity: 0.4">
		#{/else}
			</div>
		
		<div class="black column" style="padding: 15em 0;">
			<span class="date">${movie.releaseDate}</span>  <br />
			<h3 style="margin: 1em 0 0 0;">${movie.title}</h3> <br />
			<a href="${movie.url}">IMDb</a>
		</div>
		</div>
		
		
		<div class="ui one column black responsive center aligned padded grid" style="padding: 10em 0;">
		<div class="column">
			<h4>Add a rating</h4> 
		</div>
		
		<div class="column">
		<form class="ui account-post reply form" action="/movies/${movie.id}/addrating" method="POST">
			<div class="field">
				<span class="rating">
				<input id="rating-input-1-5" type="radio" name="number" value="5" class="rating-input"><label for="rating-input-1-5" class="rating-star"><i class="empty star icon"></i></label>
				<input id="rating-input-1-4" type="radio" name="number" value="4" class="rating-input"><label for="rating-input-1-4" class="rating-star"><i class="empty star icon"></i></label>
				<input id="rating-input-1-3" type="radio" name="number" value="3" class="rating-input"><label for="rating-input-1-3" class="rating-star"><i class="empty star icon"></i></label>
				<input id="rating-input-1-2" type="radio" name="number" value="2" class="rating-input"><label for="rating-input-1-2" class="rating-star"><i class="empty star icon"></i></label>
				<input id="rating-input-1-1" type="radio" name="number" value="1" class="rating-input"><label for="rating-input-1-1" class="rating-star"><i class="empty star icon"></i></label>
				<input id="rating-input-0" type="radio" name="number" value="0" class="rating-input"><label for="rating-input-0" class="rating-star-0"><i class="empty star icon"></i></label>
				<input id="rating-input-m1" type="radio" name="number" value="-1" class="rating-input"><label for="rating-input-m1" class="rating-star-m"><i class="empty star icon"></i></label>
				<input id="rating-input-m2" type="radio" name="number" value="-2" class="rating-input"><label for="rating-input-m2" class="rating-star-m"><i class="empty star icon"></i></label>
				<input id="rating-input-m3" type="radio" name="number" value="-3" class="rating-input"><label for="rating-input-m3" class="rating-star-m"><i class="empty star icon"></i></label>
				<input id="rating-input-m4" type="radio" name="number" value="-4" class="rating-input"><label for="rating-input-m4" class="rating-star-m"><i class="empty star icon"></i></label>
				<input id="rating-input-m5" type="radio" name="number" value="-5" class="rating-input"><label for="rating-input-m5" class="rating-star-m"><i class="empty star icon"></i></label>	
				</span>
			</div>
			<button id="rating" class="ui submit">Rate</button>
		</form>
		</div>
		</div>
		
		<div class="ui two column responsive center aligned padded grid" >
			<div class="black column" style="padding: 10em 0;">
			#{if movie.averageRating()  > 1 }
				<i style="font-size: 30px" class="smile icon"></i> <br /><br />
			#{/if}
			#{elseif movie.averageRating()  >= 0 }
			    <i style="font-size: 30px" class="meh icon"></i> <br /><br />
			#{/elseif}
			#{else}
			    <i style="font-size: 30px" class="frown icon"></i> <br /><br />
			#{/else}
			Average rating: ${movie.averageRating()}
			</div>
			
			<div class="column" style="padding: 10em 0;">
			<h4>Genres:</h4>
			<ul>
			#{list items: movie.genresIn, as: 'genre'} 
				<li>> ${genre}</li>
			#{/list}
			</ul>
			</div>
		</div>
	</section>
